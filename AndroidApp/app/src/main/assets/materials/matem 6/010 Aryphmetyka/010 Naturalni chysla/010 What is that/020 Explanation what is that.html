<section id="lecture-section">
    <div class="info-block info">
        <span class="icon">‚ÑπÔ∏è</span> –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞ ‚Äî —Ü–µ —á–∏—Å–ª–∞, —è–∫—ñ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –¥–ª—è –ª—ñ—á–±–∏ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤: <b>1, 2, 3, ...</b>
    </div>

    <p>
        –©–µ –∑ –¥–∏—Ç–∏–Ω—Å—Ç–≤–∞ –º–∏ –∑–≤–∏–∫–ª–∏ —Ä–∞—Ö—É–≤–∞—Ç–∏: <i>–æ–¥–∏–Ω, –¥–≤–∞, —Ç—Ä–∏‚Ä¶</i>. –¶–µ —ñ —î –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞.
        –í–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –Ω–∞–º —Ä–∞—Ö—É–≤–∞—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–∏, –≤–∏–º—ñ—Ä—é–≤–∞—Ç–∏ –≤—ñ–¥—Å—Ç–∞–Ω—ñ, —á–∞—Å —Ç–∞ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–æ–≥–æ.
    </p>

    <div class="info-block.term">
        <span class="icon">üìö</span>
        <b>–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞</b> ‚Äî —Ü–µ —á–∏—Å–ª–∞, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –¥–ª—è –ª—ñ—á–±–∏. –ú–Ω–æ–∂–∏–Ω–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏—Ö —á–∏—Å–µ–ª –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ <span class="math-inline">$\mathbb{N}$</span>.
    </div>

    <h2>–î–µ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞?</h2>

    <ul>
        <li>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–Ω–∏–≥ –Ω–∞ –ø–æ–ª–∏—Ü—ñ</li>
        <li>–°–∫—ñ–ª—å–∫–∏ —É—á–Ω—ñ–≤ —É –∫–ª–∞—Å—ñ</li>
        <li>–ù–æ–º–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —É –ø—ñ–¥—Ä—É—á–Ω–∏–∫—É</li>
    </ul>

    <div class="info-block.hint">
        <span class="icon">üí°</span>
        –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞ –Ω–µ –±—É–≤–∞—é—Ç—å –≤—ñ–¥‚Äô—î–º–Ω–∏–º–∏ –∞–±–æ –¥—Ä–æ–±–æ–≤–∏–º–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, <span class="math-inline">$-5$</span> –∞–±–æ <span class="math-inline">$3.2$</span> ‚Äî —Ü–µ –Ω–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞.
    </div>

    <div class="info-block.warning">
        <span class="icon">‚ö†Ô∏è</span>
        <b>0</b> ‚Äî —É –¥–µ—è–∫–∏—Ö –¥–∂–µ—Ä–µ–ª–∞—Ö –≤–≤–∞–∂–∞—î—Ç—å—Å—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º —á–∏—Å–ª–æ–º, —É –Ω–∞—à–æ–º—É –∫—É—Ä—Å—ñ ‚Äî <b>–Ω—ñ</b>.
    </div>

    <div class="info-block.task">
        <span class="icon">‚úÖ</span>
        –ü–æ—Ä–∞—Ö—É–π, —Å–∫—ñ–ª—å–∫–∏ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞–≤–∫–æ–ª–æ —Ç–µ–±–µ, —è–∫—ñ –º–æ–∂–Ω–∞ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º–∏ —á–∏—Å–ª–∞–º–∏.
    </div>

    <div class="info-block.question">
        <span class="icon">‚ùì</span>
        –Ø–∫–µ —á–∏—Å–ª–æ —î –ø–µ—Ä—à–∏–º –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º —á–∏—Å–ª–æ–º? –ê —è–∫–µ ‚Äî –¥–µ—Å—è—Ç–∏–º?
    </div>

    <div class="info-block.reference">
        <span class="icon">üìò</span>
        –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –º–Ω–æ–∂–∏–Ω–∏ —á–∏—Å–µ–ª –º–æ–∂–Ω–∞ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å —É –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —É—Ä–æ—Ü—ñ.
    </div>

    <button id="go-to-test" style="margin-top: 20px; padding: 10px 20px; font-size: 1em; background-color: #1565c0; color: white; border: none; border-radius: 8px; cursor: pointer;">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ —Ç–µ—Å—Ç—É</button>
</section>

<!-- –¢–µ—Å—Ç–æ–≤–∏–π –±–ª–æ–∫ -->
<section id="test-section">
    <h2 style="color: #2e7d32;">üß™ –¢–µ—Å—Ç: –ü–µ—Ä–µ–≤—ñ—Ä —Å–≤–æ—ó –∑–Ω–∞–Ω–Ω—è</h2>
    <form id="quiz-form" style="margin-top: 10px;">

        <!-- –í–∞—Ä—ñ–∞–Ω—Ç 1 -->
        <div class="quiz-variant" id="variant-1" style="display:none;">
            <ol>
                <li>–©–æ —Ç–∞–∫–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞?</li>
                <label><input type="radio" name="q1" value="A" data-correct="true"> –ß–∏—Å–ª–∞ –¥–ª—è –ª—ñ—á–±–∏</label><br>
                <label><input type="radio" name="q1" value="B"> –í—ñ–¥‚Äô—î–º–Ω—ñ —á–∏—Å–ª–∞</label><br>
                <label><input type="radio" name="q1" value="C"> –î—Ä–æ–±–æ–≤—ñ —á–∏—Å–ª–∞</label><br><br>

                <li>–Ø–∫–µ —á–∏—Å–ª–æ –Ω–µ —î –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º?</li>
                <label><input type="radio" name="q2" value="A"> 5</label><br>
                <label><input type="radio" name="q2" value="B" data-correct="true"> 0</label><br>
                <label><input type="radio" name="q2" value="C"> 17</label><br>
            </ol>
        </div>

        <!-- –í–∞—Ä—ñ–∞–Ω—Ç 2 -->
        <div class="quiz-variant" id="variant-2" style="display:none;">
            <ol>
                <li>–ù–∞–π–º–µ–Ω—à–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ —á–∏—Å–ª–æ:</li>
                <label><input type="radio" name="q1" value="A"> 0</label><br>
                <label><input type="radio" name="q1" value="B" data-correct="true"> 1</label><br>
                <label><input type="radio" name="q1" value="C"> ‚Äì1</label><br><br>

                <li>–Ø–∫–µ –∑ —á–∏—Å–µ–ª —î –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º?</li>
                <label><input type="radio" name="q2" value="A"> ‚Äì5</label><br>
                <label><input type="radio" name="q2" value="B"> 0</label><br>
                <label><input type="radio" name="q2" value="C" data-correct="true"> 12</label><br>
            </ol>
        </div>

        <!-- –í–∞—Ä—ñ–∞–Ω—Ç 3 -->
        <div class="quiz-variant" id="variant-3" style="display:none;">
            <ol>
                <li>–î–ª—è —á–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞?</li>
                <label><input type="radio" name="q1" value="A" data-correct="true"> –©–æ–± —Ä–∞—Ö—É–≤–∞—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–∏</label><br>
                <label><input type="radio" name="q1" value="B"> –©–æ–± –º–∞–ª—é–≤–∞—Ç–∏</label><br>
                <label><input type="radio" name="q1" value="C"> –©–æ–± –ø–∏—Å–∞—Ç–∏ –ø—ñ—Å–Ω—ñ</label><br><br>

                <li>–ü–æ–∑–Ω–∞—á –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ —á–∏—Å–ª–æ:</li>
                <label><input type="radio" name="q2" value="A"> ‚Äì3</label><br>
                <label><input type="radio" name="q2" value="B" data-correct="true"> 2</label><br>
                <label><input type="radio" name="q2" value="C"> 0</label><br>
            </ol>
        </div>

        <button type="button" id="check-test" style="margin-top: 20px; padding: 10px 20px; font-size: 1em; background-color: #2e7d32; color: white; border: none; border-radius: 8px; cursor: pointer;">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
    </form>
</section>
<script>
    const goToTestBtn = document.getElementById('go-to-test');
    const lectureSection = document.getElementById('lecture-section');
    const testSection = document.getElementById('test-section');
    const variants = document.querySelectorAll('.quiz-variant');

    // –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ ‚Äì –ø–æ–∫–∞–∑–∞—Ç–∏ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Ç–µ—Å—Ç—É
    goToTestBtn.addEventListener('click', () => {
      lectureSection.style.display = 'none';
      testSection.style.display = 'block';
      const randomIndex = Math.floor(Math.random() * variants.length);
      variants[randomIndex].style.display = 'block';
    });

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    document.getElementById('check-test').addEventListener('click', () => {
      let correct = 0;
      let total = 0;
      const activeVariant = document.querySelector('.quiz-variant[style*="display: block"]');
      const inputs = activeVariant.querySelectorAll('input[type="radio"]');

      // –ó–±–∏—Ä–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
      const answers = {};
      inputs.forEach(input => {
        if (input.checked) {
          answers[input.name] = input.value;
        }
      });

      // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—ñ
      const groups = new Set(Array.from(inputs).map(i => i.name));
      groups.forEach(name => {
        const selected = activeVariant.querySelector(`input[name="${name}"]:checked`);
        if (selected && selected.dataset.correct === "true") {
          correct++;
        }
        total++;
      });

      const passed = correct === total;
      const result = {
        correct,
        total,
        passed
      };

      // –ù–∞–¥—Å–∏–ª–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Android
      if (window.AndroidBridge) {
        AndroidBridge.sendMessage(JSON.stringify(result));
      } else {
        alert(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${correct} –∑ ${total}. –ü—Ä–æ–π–¥–µ–Ω–æ: ${passed}`);
      }
    });
</script>
